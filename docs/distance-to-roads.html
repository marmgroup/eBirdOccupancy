<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 4 Distance to roads | Using citizen science to parse climatic and landcover influences on bird occupancy within a tropical biodiversity hotspot</title>
  <meta name="description" content="Influence of land cover and climate on the occupancy of avian distributions along a tropical montane gradient" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 4 Distance to roads | Using citizen science to parse climatic and landcover influences on bird occupancy within a tropical biodiversity hotspot" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Influence of land cover and climate on the occupancy of avian distributions along a tropical montane gradient" />
  <meta name="github-repo" content="pratikunterwegs/eBirdOccupancy" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 4 Distance to roads | Using citizen science to parse climatic and landcover influences on bird occupancy within a tropical biodiversity hotspot" />
  
  <meta name="twitter:description" content="Influence of land cover and climate on the occupancy of avian distributions along a tropical montane gradient" />
  

<meta name="author" content="Vijay Ramesh" />
<meta name="author" content="Pratik R. Gupte" />
<meta name="author" content="Morgan W. Tingley" />
<meta name="author" content="VV Robin" />
<meta name="author" content="Ruth DeFries" />


<meta name="date" content="2020-12-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="prepare-landscape-data.html"/>
<link rel="next" href="prepare-observer-expertise.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#attribution"><i class="fa fa-check"></i><b>1.1</b> Attribution</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#data-access"><i class="fa fa-check"></i><b>1.2</b> Data access</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#data-processing"><i class="fa fa-check"></i><b>1.3</b> Data processing</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="preparing-ebird-data.html"><a href="preparing-ebird-data.html"><i class="fa fa-check"></i><b>2</b> Preparing eBird data</a><ul>
<li class="chapter" data-level="2.1" data-path="preparing-ebird-data.html"><a href="preparing-ebird-data.html#prepare-libraries-and-data-sources"><i class="fa fa-check"></i><b>2.1</b> Prepare libraries and data sources</a></li>
<li class="chapter" data-level="2.2" data-path="preparing-ebird-data.html"><a href="preparing-ebird-data.html#filter-data"><i class="fa fa-check"></i><b>2.2</b> Filter data</a></li>
<li class="chapter" data-level="2.3" data-path="preparing-ebird-data.html"><a href="preparing-ebird-data.html#process-filtered-data"><i class="fa fa-check"></i><b>2.3</b> Process filtered data</a></li>
<li class="chapter" data-level="2.4" data-path="preparing-ebird-data.html"><a href="preparing-ebird-data.html#spatial-filter"><i class="fa fa-check"></i><b>2.4</b> Spatial filter</a></li>
<li class="chapter" data-level="2.5" data-path="preparing-ebird-data.html"><a href="preparing-ebird-data.html#handle-presence-data"><i class="fa fa-check"></i><b>2.5</b> Handle presence data</a></li>
<li class="chapter" data-level="2.6" data-path="preparing-ebird-data.html"><a href="preparing-ebird-data.html#add-decimal-time"><i class="fa fa-check"></i><b>2.6</b> Add decimal time</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="prepare-landscape-data.html"><a href="prepare-landscape-data.html"><i class="fa fa-check"></i><b>3</b> Prepare landscape data</a><ul>
<li class="chapter" data-level="3.1" data-path="prepare-landscape-data.html"><a href="prepare-landscape-data.html#prepare-libraries"><i class="fa fa-check"></i><b>3.1</b> Prepare libraries</a></li>
<li class="chapter" data-level="3.2" data-path="prepare-landscape-data.html"><a href="prepare-landscape-data.html#prepare-spatial-extent"><i class="fa fa-check"></i><b>3.2</b> Prepare spatial extent</a></li>
<li class="chapter" data-level="3.3" data-path="prepare-landscape-data.html"><a href="prepare-landscape-data.html#prepare-terrain-rasters"><i class="fa fa-check"></i><b>3.3</b> Prepare terrain rasters</a></li>
<li class="chapter" data-level="3.4" data-path="prepare-landscape-data.html"><a href="prepare-landscape-data.html#prepare-chelsa-rasters"><i class="fa fa-check"></i><b>3.4</b> Prepare CHELSA rasters</a></li>
<li class="chapter" data-level="3.5" data-path="prepare-landscape-data.html"><a href="prepare-landscape-data.html#resample-landcover-from-10m-to-1km"><i class="fa fa-check"></i><b>3.5</b> Resample landcover from 10m to 1km</a></li>
<li class="chapter" data-level="3.6" data-path="prepare-landscape-data.html"><a href="prepare-landscape-data.html#resample-other-rasters-to-1km"><i class="fa fa-check"></i><b>3.6</b> Resample other rasters to 1km</a><ul>
<li class="chapter" data-level="3.6.1" data-path="prepare-landscape-data.html"><a href="prepare-landscape-data.html#read-in-resampled-landcover"><i class="fa fa-check"></i><b>3.6.1</b> Read in resampled landcover</a></li>
<li class="chapter" data-level="3.6.2" data-path="prepare-landscape-data.html"><a href="prepare-landscape-data.html#reproject-environmental-data-using-landcover-as-a-template"><i class="fa fa-check"></i><b>3.6.2</b> Reproject environmental data using landcover as a template</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="prepare-landscape-data.html"><a href="prepare-landscape-data.html#temperature-and-rainfall-in-relation-to-elevation"><i class="fa fa-check"></i><b>3.7</b> Temperature and rainfall in relation to elevation</a><ul>
<li class="chapter" data-level="3.7.1" data-path="prepare-landscape-data.html"><a href="prepare-landscape-data.html#prepare-libraries-and-ci-function"><i class="fa fa-check"></i><b>3.7.1</b> Prepare libraries and CI function</a></li>
<li class="chapter" data-level="3.7.2" data-path="prepare-landscape-data.html"><a href="prepare-landscape-data.html#load-resampled-environmental-rasters"><i class="fa fa-check"></i><b>3.7.2</b> Load resampled environmental rasters</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="prepare-landscape-data.html"><a href="prepare-landscape-data.html#land-cover-type-in-relation-to-elevation"><i class="fa fa-check"></i><b>3.8</b> Land cover type in relation to elevation</a></li>
<li class="chapter" data-level="3.9" data-path="prepare-landscape-data.html"><a href="prepare-landscape-data.html#main-text-figure-2"><i class="fa fa-check"></i><b>3.9</b> Main Text Figure 2</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="distance-to-roads.html"><a href="distance-to-roads.html"><i class="fa fa-check"></i><b>4</b> Distance to roads</a><ul>
<li class="chapter" data-level="4.1" data-path="distance-to-roads.html"><a href="distance-to-roads.html#prepare-libraries-1"><i class="fa fa-check"></i><b>4.1</b> Prepare libraries</a></li>
<li class="chapter" data-level="4.2" data-path="distance-to-roads.html"><a href="distance-to-roads.html#prepare-data-for-processing"><i class="fa fa-check"></i><b>4.2</b> Prepare data for processing</a><ul>
<li class="chapter" data-level="4.2.1" data-path="distance-to-roads.html"><a href="distance-to-roads.html#python-functions-and-distance-calculations"><i class="fa fa-check"></i><b>4.2.1</b> Python functions and distance calculations</a></li>
<li class="chapter" data-level="4.2.2" data-path="distance-to-roads.html"><a href="distance-to-roads.html#spatially-explicit-filter-on-checklists"><i class="fa fa-check"></i><b>4.2.2</b> Spatially explicit filter on checklists</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="distance-to-roads.html"><a href="distance-to-roads.html#main-text-figure-3"><i class="fa fa-check"></i><b>4.3</b> Main Text Figure 3</a><ul>
<li class="chapter" data-level="4.3.1" data-path="distance-to-roads.html"><a href="distance-to-roads.html#prepare-histogram-of-distance-to-roads"><i class="fa fa-check"></i><b>4.3.1</b> Prepare histogram of distance to roads</a></li>
<li class="chapter" data-level="4.3.2" data-path="distance-to-roads.html"><a href="distance-to-roads.html#table-distance-to-roads"><i class="fa fa-check"></i><b>4.3.2</b> Table: Distance to roads</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="distance-to-roads.html"><a href="distance-to-roads.html#distance-to-nearest-neighbouring-site"><i class="fa fa-check"></i><b>4.4</b> Distance to nearest neighbouring site</a></li>
<li class="chapter" data-level="4.5" data-path="distance-to-roads.html"><a href="distance-to-roads.html#main-text-figure-3-1"><i class="fa fa-check"></i><b>4.5</b> Main Text Figure 3</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="prepare-observer-expertise.html"><a href="prepare-observer-expertise.html"><i class="fa fa-check"></i><b>5</b> Prepare observer expertise</a><ul>
<li class="chapter" data-level="5.1" data-path="prepare-observer-expertise.html"><a href="prepare-observer-expertise.html#prepare-libraries-2"><i class="fa fa-check"></i><b>5.1</b> Prepare libraries</a></li>
<li class="chapter" data-level="5.2" data-path="prepare-observer-expertise.html"><a href="prepare-observer-expertise.html#prepare-data"><i class="fa fa-check"></i><b>5.2</b> Prepare data</a></li>
<li class="chapter" data-level="5.3" data-path="prepare-observer-expertise.html"><a href="prepare-observer-expertise.html#spatially-explicit-filter-on-checklists-1"><i class="fa fa-check"></i><b>5.3</b> Spatially explicit filter on checklists</a></li>
<li class="chapter" data-level="5.4" data-path="prepare-observer-expertise.html"><a href="prepare-observer-expertise.html#prepare-species-of-interest"><i class="fa fa-check"></i><b>5.4</b> Prepare species of interest</a></li>
<li class="chapter" data-level="5.5" data-path="prepare-observer-expertise.html"><a href="prepare-observer-expertise.html#prepare-checklists-for-observer-score"><i class="fa fa-check"></i><b>5.5</b> Prepare checklists for observer score</a></li>
<li class="chapter" data-level="5.6" data-path="prepare-observer-expertise.html"><a href="prepare-observer-expertise.html#get-landcover"><i class="fa fa-check"></i><b>5.6</b> Get landcover</a></li>
<li class="chapter" data-level="5.7" data-path="prepare-observer-expertise.html"><a href="prepare-observer-expertise.html#filter-checklist-data"><i class="fa fa-check"></i><b>5.7</b> Filter checklist data</a></li>
<li class="chapter" data-level="5.8" data-path="prepare-observer-expertise.html"><a href="prepare-observer-expertise.html#model-observer-expertise"><i class="fa fa-check"></i><b>5.8</b> Model observer expertise</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="add-covariates-to-checklist-data.html"><a href="add-covariates-to-checklist-data.html"><i class="fa fa-check"></i><b>6</b> Add covariates to checklist data</a><ul>
<li class="chapter" data-level="6.1" data-path="add-covariates-to-checklist-data.html"><a href="add-covariates-to-checklist-data.html#prepare-libraries-and-data"><i class="fa fa-check"></i><b>6.1</b> Prepare libraries and data</a></li>
<li class="chapter" data-level="6.2" data-path="add-covariates-to-checklist-data.html"><a href="add-covariates-to-checklist-data.html#spatial-subsampling"><i class="fa fa-check"></i><b>6.2</b> Spatial subsampling</a></li>
<li class="chapter" data-level="6.3" data-path="add-covariates-to-checklist-data.html"><a href="add-covariates-to-checklist-data.html#temporal-subsampling"><i class="fa fa-check"></i><b>6.3</b> Temporal subsampling</a></li>
<li class="chapter" data-level="6.4" data-path="add-covariates-to-checklist-data.html"><a href="add-covariates-to-checklist-data.html#add-checklist-calibration-index"><i class="fa fa-check"></i><b>6.4</b> Add checklist calibration index</a></li>
<li class="chapter" data-level="6.5" data-path="add-covariates-to-checklist-data.html"><a href="add-covariates-to-checklist-data.html#add-landscape-covariates"><i class="fa fa-check"></i><b>6.5</b> Add landscape covariates</a></li>
<li class="chapter" data-level="6.6" data-path="add-covariates-to-checklist-data.html"><a href="add-covariates-to-checklist-data.html#spatial-buffers-around-selected-checklists"><i class="fa fa-check"></i><b>6.6</b> Spatial buffers around selected checklists</a></li>
<li class="chapter" data-level="6.7" data-path="add-covariates-to-checklist-data.html"><a href="add-covariates-to-checklist-data.html#spatial-buffer-wide-covariates"><i class="fa fa-check"></i><b>6.7</b> Spatial buffer-wide covariates</a><ul>
<li class="chapter" data-level="6.7.1" data-path="add-covariates-to-checklist-data.html"><a href="add-covariates-to-checklist-data.html#mean-environmental-covariates"><i class="fa fa-check"></i><b>6.7.1</b> Mean environmental covariates</a></li>
<li class="chapter" data-level="6.7.2" data-path="add-covariates-to-checklist-data.html"><a href="add-covariates-to-checklist-data.html#proportions-of-land-cover-type"><i class="fa fa-check"></i><b>6.7.2</b> Proportions of land cover type</a></li>
<li class="chapter" data-level="6.7.3" data-path="add-covariates-to-checklist-data.html"><a href="add-covariates-to-checklist-data.html#link-landscape-covariates-to-checklists"><i class="fa fa-check"></i><b>6.7.3</b> Link landscape covariates to checklists</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="occupancy-modelling.html"><a href="occupancy-modelling.html"><i class="fa fa-check"></i><b>7</b> Occupancy modelling</a><ul>
<li class="chapter" data-level="7.0.1" data-path="occupancy-modelling.html"><a href="occupancy-modelling.html#load-necessary-libraries"><i class="fa fa-check"></i><b>7.0.1</b> Load necessary libraries</a></li>
<li class="chapter" data-level="7.1" data-path="occupancy-modelling.html"><a href="occupancy-modelling.html#load-dataframe-and-scale-covariates"><i class="fa fa-check"></i><b>7.1</b> Load dataframe and scale covariates</a></li>
<li class="chapter" data-level="7.2" data-path="occupancy-modelling.html"><a href="occupancy-modelling.html#running-a-null-model"><i class="fa fa-check"></i><b>7.2</b> Running a null model</a></li>
<li class="chapter" data-level="7.3" data-path="occupancy-modelling.html"><a href="occupancy-modelling.html#identifying-covariates-necessary-to-model-the-detection-process"><i class="fa fa-check"></i><b>7.3</b> Identifying covariates necessary to model the detection process</a></li>
<li class="chapter" data-level="7.4" data-path="occupancy-modelling.html"><a href="occupancy-modelling.html#land-cover-and-climate"><i class="fa fa-check"></i><b>7.4</b> Land Cover and Climate</a></li>
<li class="chapter" data-level="7.5" data-path="occupancy-modelling.html"><a href="occupancy-modelling.html#goodness-of-fit-tests"><i class="fa fa-check"></i><b>7.5</b> Goodness-of-fit tests</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="visualizing-results.html"><a href="visualizing-results.html"><i class="fa fa-check"></i><b>8</b> Visualizing results</a><ul>
<li class="chapter" data-level="8.1" data-path="visualizing-results.html"><a href="visualizing-results.html#prepare-libraries-3"><i class="fa fa-check"></i><b>8.1</b> Prepare libraries</a></li>
<li class="chapter" data-level="8.2" data-path="visualizing-results.html"><a href="visualizing-results.html#load-species-list"><i class="fa fa-check"></i><b>8.2</b> Load species list</a></li>
<li class="chapter" data-level="8.3" data-path="visualizing-results.html"><a href="visualizing-results.html#show-aic-weight-importance"><i class="fa fa-check"></i><b>8.3</b> Show AIC weight importance</a><ul>
<li class="chapter" data-level="8.3.1" data-path="visualizing-results.html"><a href="visualizing-results.html#read-in-aic-weight-data"><i class="fa fa-check"></i><b>8.3.1</b> Read in AIC weight data</a></li>
<li class="chapter" data-level="8.3.2" data-path="visualizing-results.html"><a href="visualizing-results.html#prepare-cumulative-aic-weight-data"><i class="fa fa-check"></i><b>8.3.2</b> Prepare cumulative AIC weight data</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="visualizing-results.html"><a href="visualizing-results.html#prepare-model-coefficient-data"><i class="fa fa-check"></i><b>8.4</b> Prepare model coefficient data</a></li>
<li class="chapter" data-level="8.5" data-path="visualizing-results.html"><a href="visualizing-results.html#get-predictor-effects"><i class="fa fa-check"></i><b>8.5</b> Get predictor effects</a></li>
<li class="chapter" data-level="8.6" data-path="visualizing-results.html"><a href="visualizing-results.html#main-text-figure-4"><i class="fa fa-check"></i><b>8.6</b> Main Text Figure 4</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Using citizen science to parse climatic and landcover influences on bird occupancy within a tropical biodiversity hotspot</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="distance-to-roads" class="section level1">
<h1><span class="header-section-number">Section 4</span> Distance to roads</h1>
<p>The goal of this section is to determine how far each checklist location is from the nearest road, and how far each site is from its nearest neighbour. This involves finding the pairwise distance between a large number of unique checklist locations to a vast number of roads, as well as to each other.</p>
<p>Parts of this section are thus implemented in Python, using the R-Python interface package, <code>reticulate</code>.</p>
<div id="prepare-libraries-1" class="section level2">
<h2><span class="header-section-number">4.1</span> Prepare libraries</h2>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" title="1"><span class="co"># load libraries</span></a>
<a class="sourceLine" id="cb27-2" title="2"><span class="kw">library</span>(reticulate)</a>
<a class="sourceLine" id="cb27-3" title="3"><span class="kw">library</span>(sf)</a>
<a class="sourceLine" id="cb27-4" title="4"><span class="kw">library</span>(dplyr)</a>
<a class="sourceLine" id="cb27-5" title="5"><span class="kw">library</span>(scales)</a>
<a class="sourceLine" id="cb27-6" title="6"><span class="kw">library</span>(readr)</a>
<a class="sourceLine" id="cb27-7" title="7"><span class="kw">library</span>(purrr)</a>
<a class="sourceLine" id="cb27-8" title="8"></a>
<a class="sourceLine" id="cb27-9" title="9"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb27-10" title="10"><span class="kw">library</span>(ggthemes)</a>
<a class="sourceLine" id="cb27-11" title="11"><span class="kw">library</span>(ggspatial)</a>
<a class="sourceLine" id="cb27-12" title="12"><span class="kw">library</span>(scico)</a>
<a class="sourceLine" id="cb27-13" title="13"></a>
<a class="sourceLine" id="cb27-14" title="14"><span class="co"># round any function</span></a>
<a class="sourceLine" id="cb27-15" title="15">round_any &lt;-<span class="st"> </span><span class="cf">function</span>(x, <span class="dt">accuracy =</span> <span class="dv">20000</span>) {</a>
<a class="sourceLine" id="cb27-16" title="16">  <span class="kw">round</span>(x <span class="op">/</span><span class="st"> </span>accuracy) <span class="op">*</span><span class="st"> </span>accuracy</a>
<a class="sourceLine" id="cb27-17" title="17">}</a>
<a class="sourceLine" id="cb27-18" title="18"><span class="co"># ci function</span></a>
<a class="sourceLine" id="cb27-19" title="19">ci &lt;-<span class="st"> </span><span class="cf">function</span>(x) {</a>
<a class="sourceLine" id="cb27-20" title="20">  <span class="kw">qnorm</span>(<span class="fl">0.975</span>) <span class="op">*</span><span class="st"> </span><span class="kw">sd</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>) <span class="op">/</span><span class="st"> </span><span class="kw">sqrt</span>(<span class="kw">length</span>(x))</a>
<a class="sourceLine" id="cb27-21" title="21">}</a>
<a class="sourceLine" id="cb27-22" title="22"></a>
<a class="sourceLine" id="cb27-23" title="23"><span class="co"># set python path</span></a>
<a class="sourceLine" id="cb27-24" title="24"><span class="kw">use_python</span>(<span class="st">&quot;/usr/bin/python3&quot;</span>)</a></code></pre></div>
<p>Importing python libraries. These libraries need to be installed before use.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb28-1" title="1"><span class="co"># import classic python libs</span></a>
<a class="sourceLine" id="cb28-2" title="2"><span class="im">import</span> itertools</a>
<a class="sourceLine" id="cb28-3" title="3"><span class="im">from</span> operator <span class="im">import</span> itemgetter</a>
<a class="sourceLine" id="cb28-4" title="4"><span class="im">import</span> numpy <span class="im">as</span> np</a>
<a class="sourceLine" id="cb28-5" title="5"><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</a>
<a class="sourceLine" id="cb28-6" title="6"><span class="im">import</span> math</a>
<a class="sourceLine" id="cb28-7" title="7"></a>
<a class="sourceLine" id="cb28-8" title="8"><span class="co"># libs for dataframes</span></a>
<a class="sourceLine" id="cb28-9" title="9"><span class="im">import</span> pandas <span class="im">as</span> pd</a>
<a class="sourceLine" id="cb28-10" title="10"></a>
<a class="sourceLine" id="cb28-11" title="11"><span class="co"># import libs for geodata</span></a>
<a class="sourceLine" id="cb28-12" title="12"><span class="im">from</span> shapely.ops <span class="im">import</span> nearest_points</a>
<a class="sourceLine" id="cb28-13" title="13"><span class="im">import</span> geopandas <span class="im">as</span> gpd</a>
<a class="sourceLine" id="cb28-14" title="14"><span class="im">import</span> rasterio</a>
<a class="sourceLine" id="cb28-15" title="15"></a>
<a class="sourceLine" id="cb28-16" title="16"><span class="co"># import ckdtree</span></a>
<a class="sourceLine" id="cb28-17" title="17"><span class="im">from</span> scipy.spatial <span class="im">import</span> cKDTree</a>
<a class="sourceLine" id="cb28-18" title="18"><span class="im">from</span> shapely.geometry <span class="im">import</span> Point, MultiPoint, LineString, MultiLineString</a></code></pre></div>
</div>
<div id="prepare-data-for-processing" class="section level2">
<h2><span class="header-section-number">4.2</span> Prepare data for processing</h2>
<p>First we read in the roads shapefile, which is obtained from the Open Street Map database.
Then we read in the checklsit covariates, and extract the unique coordinate pairs.
All data are reprojected to be in the UTM 43N system.</p>
<p>We define a custom Python function to separate multi-feature geometries (here, roads which are in parts) into single feature geometries.
Then we define a function to use the K-dimensional trees method from <code>scipy</code> to find the distance between two geometries, here, the distance between the locations and the nearest road.
We define another function to find the distance between checklist locations and all other checklist locations.</p>
<p>We use these functions to find the distance between each checklist location and the nearest road and the next nearest site.</p>
<div id="python-functions-and-distance-calculations" class="section level3">
<h3><span class="header-section-number">4.2.1</span> Python functions and distance calculations</h3>
<div class="sourceCode" id="cb29"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb29-1" title="1"><span class="co"># read in roads shapefile</span></a>
<a class="sourceLine" id="cb29-2" title="2">roads <span class="op">=</span> gpd.read_file(<span class="st">&quot;data/spatial/roads_studysite_2019/roads_studysite_2019.shp&quot;</span>)</a>
<a class="sourceLine" id="cb29-3" title="3">roads.head()</a>
<a class="sourceLine" id="cb29-4" title="4"></a>
<a class="sourceLine" id="cb29-5" title="5"><span class="co"># read in checklist covariates for conversion to gpd</span></a>
<a class="sourceLine" id="cb29-6" title="6"><span class="co"># get unique coordinates, assign them to the df</span></a>
<a class="sourceLine" id="cb29-7" title="7"><span class="co"># convert df to geo-df</span></a>
<a class="sourceLine" id="cb29-8" title="8">chkCovars <span class="op">=</span> pd.read_csv(<span class="st">&quot;data/eBirdChecklistVars.csv&quot;</span>)</a>
<a class="sourceLine" id="cb29-9" title="9">unique_locs <span class="op">=</span> chkCovars.drop_duplicates(subset<span class="op">=</span>[<span class="st">&#39;longitude&#39;</span>,</a>
<a class="sourceLine" id="cb29-10" title="10">                                         <span class="st">&#39;latitude&#39;</span>])[[<span class="st">&#39;longitude&#39;</span>, <span class="st">&#39;latitude&#39;</span>]]</a>
<a class="sourceLine" id="cb29-11" title="11">unique_locs[<span class="st">&#39;coordId&#39;</span>] <span class="op">=</span> np.arange(<span class="dv">1</span>, unique_locs.shape[<span class="dv">0</span>]<span class="op">+</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb29-12" title="12">chkCovars <span class="op">=</span> chkCovars.merge(unique_locs, on<span class="op">=</span>[<span class="st">&#39;longitude&#39;</span>, <span class="st">&#39;latitude&#39;</span>])</a>
<a class="sourceLine" id="cb29-13" title="13"></a>
<a class="sourceLine" id="cb29-14" title="14">unique_locs <span class="op">=</span> gpd.GeoDataFrame(</a>
<a class="sourceLine" id="cb29-15" title="15">unique_locs, </a>
<a class="sourceLine" id="cb29-16" title="16">geometry <span class="op">=</span> gpd.points_from_xy(unique_locs.longitude, unique_locs.latitude))</a>
<a class="sourceLine" id="cb29-17" title="17">unique_locs.crs <span class="op">=</span> {<span class="st">&#39;init&#39;</span> :<span class="st">&#39;epsg:4326&#39;</span>}</a>
<a class="sourceLine" id="cb29-18" title="18"></a>
<a class="sourceLine" id="cb29-19" title="19"><span class="co"># reproject spatials to 43n epsg 32643</span></a>
<a class="sourceLine" id="cb29-20" title="20"></a>
<a class="sourceLine" id="cb29-21" title="21">roads <span class="op">=</span> roads.to_crs({<span class="st">&#39;init&#39;</span>: <span class="st">&#39;epsg:32643&#39;</span>})</a>
<a class="sourceLine" id="cb29-22" title="22">unique_locs <span class="op">=</span> unique_locs.to_crs({<span class="st">&#39;init&#39;</span>: <span class="st">&#39;epsg:32643&#39;</span>})</a>
<a class="sourceLine" id="cb29-23" title="23"></a>
<a class="sourceLine" id="cb29-24" title="24"></a>
<a class="sourceLine" id="cb29-25" title="25"><span class="co"># function to simplify multilinestrings</span></a>
<a class="sourceLine" id="cb29-26" title="26"><span class="kw">def</span> simplify_roads(complex_roads):</a>
<a class="sourceLine" id="cb29-27" title="27">    simpleRoads <span class="op">=</span> []</a>
<a class="sourceLine" id="cb29-28" title="28">    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(complex_roads.geometry)):</a>
<a class="sourceLine" id="cb29-29" title="29">        feature <span class="op">=</span> complex_roads.geometry.iloc[i]</a>
<a class="sourceLine" id="cb29-30" title="30">        <span class="cf">if</span> feature.geom_type <span class="op">==</span> <span class="st">&quot;LineString&quot;</span>:</a>
<a class="sourceLine" id="cb29-31" title="31">            simpleRoads.append(feature)</a>
<a class="sourceLine" id="cb29-32" title="32">        <span class="cf">elif</span> feature.geom_type <span class="op">==</span> <span class="st">&quot;MultiLineString&quot;</span>:</a>
<a class="sourceLine" id="cb29-33" title="33">            <span class="cf">for</span> road_level2 <span class="kw">in</span> feature:</a>
<a class="sourceLine" id="cb29-34" title="34">                simpleRoads.append(road_level2)</a>
<a class="sourceLine" id="cb29-35" title="35">    <span class="cf">return</span> simpleRoads</a>
<a class="sourceLine" id="cb29-36" title="36"></a>
<a class="sourceLine" id="cb29-37" title="37"></a>
<a class="sourceLine" id="cb29-38" title="38"><span class="co"># function to use ckdtrees to find the nearest road</span></a>
<a class="sourceLine" id="cb29-39" title="39"><span class="kw">def</span> ckdnearest(gdfA, gdfB):</a>
<a class="sourceLine" id="cb29-40" title="40">    A <span class="op">=</span> np.concatenate(</a>
<a class="sourceLine" id="cb29-41" title="41">    [np.array(geom.coords) <span class="cf">for</span> geom <span class="kw">in</span> gdfA.geometry.to_list()])</a>
<a class="sourceLine" id="cb29-42" title="42">    simplified_features <span class="op">=</span> simplify_roads(gdfB)</a>
<a class="sourceLine" id="cb29-43" title="43">    B <span class="op">=</span> [np.array(geom.coords) <span class="cf">for</span> geom <span class="kw">in</span> simplified_features]</a>
<a class="sourceLine" id="cb29-44" title="44">    B <span class="op">=</span> np.concatenate(B)</a>
<a class="sourceLine" id="cb29-45" title="45">    ckd_tree <span class="op">=</span> cKDTree(B)</a>
<a class="sourceLine" id="cb29-46" title="46">    dist, idx <span class="op">=</span> ckd_tree.query(A, k<span class="op">=</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb29-47" title="47">    <span class="cf">return</span> dist</a>
<a class="sourceLine" id="cb29-48" title="48"></a>
<a class="sourceLine" id="cb29-49" title="49"></a>
<a class="sourceLine" id="cb29-50" title="50"><span class="co"># function to use ckdtrees for nearest other checklist point</span></a>
<a class="sourceLine" id="cb29-51" title="51"><span class="kw">def</span> ckdnearest_point(gdfA, gdfB):</a>
<a class="sourceLine" id="cb29-52" title="52">    A <span class="op">=</span> np.concatenate(</a>
<a class="sourceLine" id="cb29-53" title="53">    [np.array(geom.coords) <span class="cf">for</span> geom <span class="kw">in</span> gdfA.geometry.to_list()])</a>
<a class="sourceLine" id="cb29-54" title="54">    <span class="co">#simplified_features = simplify_roads(gdfB)</span></a>
<a class="sourceLine" id="cb29-55" title="55">    B <span class="op">=</span> np.concatenate(</a>
<a class="sourceLine" id="cb29-56" title="56">    [np.array(geom.coords) <span class="cf">for</span> geom <span class="kw">in</span> gdfB.geometry.to_list()])</a>
<a class="sourceLine" id="cb29-57" title="57">    <span class="co">#B = np.concatenate(B)</span></a>
<a class="sourceLine" id="cb29-58" title="58">    ckd_tree <span class="op">=</span> cKDTree(B)</a>
<a class="sourceLine" id="cb29-59" title="59">    dist, idx <span class="op">=</span> ckd_tree.query(A, k<span class="op">=</span>[<span class="dv">2</span>])</a>
<a class="sourceLine" id="cb29-60" title="60">    <span class="cf">return</span> dist</a>
<a class="sourceLine" id="cb29-61" title="61"></a>
<a class="sourceLine" id="cb29-62" title="62"></a>
<a class="sourceLine" id="cb29-63" title="63"><span class="co"># get distance to nearest road</span></a>
<a class="sourceLine" id="cb29-64" title="64">unique_locs[<span class="st">&#39;dist_road&#39;</span>] <span class="op">=</span> ckdnearest(unique_locs, roads)</a>
<a class="sourceLine" id="cb29-65" title="65"></a>
<a class="sourceLine" id="cb29-66" title="66"><span class="co"># get distance to nearest other site</span></a>
<a class="sourceLine" id="cb29-67" title="67">unique_locs[<span class="st">&#39;nnb&#39;</span>] <span class="op">=</span> ckdnearest_point(unique_locs, unique_locs)</a>
<a class="sourceLine" id="cb29-68" title="68"></a>
<a class="sourceLine" id="cb29-69" title="69"><span class="co"># write to file</span></a>
<a class="sourceLine" id="cb29-70" title="70">unique_locs <span class="op">=</span> pd.DataFrame(unique_locs.drop(columns<span class="op">=</span><span class="st">&#39;geometry&#39;</span>))</a>
<a class="sourceLine" id="cb29-71" title="71">unique_locs[<span class="st">&#39;dist_road&#39;</span>] <span class="op">=</span> unique_locs[<span class="st">&#39;dist_road&#39;</span>]</a>
<a class="sourceLine" id="cb29-72" title="72">unique_locs[<span class="st">&#39;nnb&#39;</span>] <span class="op">=</span> unique_locs[<span class="st">&#39;nnb&#39;</span>]</a>
<a class="sourceLine" id="cb29-73" title="73">unique_locs.to_csv(path_or_buf <span class="op">=</span> <span class="st">&quot;data/locs_dist_to_road.csv&quot;</span>, index<span class="op">=</span><span class="va">False</span>)</a>
<a class="sourceLine" id="cb29-74" title="74"></a>
<a class="sourceLine" id="cb29-75" title="75"><span class="co"># merge unique locs with chkCovars</span></a>
<a class="sourceLine" id="cb29-76" title="76">chkCovars <span class="op">=</span> chkCovars.merge(unique_locs, on<span class="op">=</span>[<span class="st">&#39;latitude&#39;</span>, </a>
<a class="sourceLine" id="cb29-77" title="77">                                             <span class="st">&#39;longitude&#39;</span>, <span class="st">&#39;coordId&#39;</span>])</a></code></pre></div>
</div>
<div id="spatially-explicit-filter-on-checklists" class="section level3">
<h3><span class="header-section-number">4.2.2</span> Spatially explicit filter on checklists</h3>
<p>We filter the checklists by the boundary of the study area. This is <em>not</em> the extent.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" title="1"><span class="co"># extract data from python</span></a>
<a class="sourceLine" id="cb30-2" title="2">chkCovars &lt;-<span class="st"> </span>py<span class="op">$</span>chkCovars</a>
<a class="sourceLine" id="cb30-3" title="3">chkCovars &lt;-<span class="st"> </span><span class="kw">st_as_sf</span>(chkCovars, <span class="dt">coords =</span> <span class="kw">c</span>(<span class="st">&quot;longitude&quot;</span>, <span class="st">&quot;latitude&quot;</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb30-4" title="4"><span class="st">  `</span><span class="dt">st_crs&lt;-</span><span class="st">`</span>(<span class="dv">4326</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb30-5" title="5"><span class="st">  </span><span class="kw">st_transform</span>(<span class="dv">32643</span>)</a>
<a class="sourceLine" id="cb30-6" title="6"></a>
<a class="sourceLine" id="cb30-7" title="7"><span class="co"># read wg</span></a>
<a class="sourceLine" id="cb30-8" title="8">wg &lt;-<span class="st"> </span><span class="kw">st_read</span>(<span class="st">&quot;data/spatial/hillsShapefile/Nil_Ana_Pal.shp&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb30-9" title="9"><span class="st">  </span><span class="kw">st_transform</span>(<span class="dv">32643</span>)</a>
<a class="sourceLine" id="cb30-10" title="10"></a>
<a class="sourceLine" id="cb30-11" title="11"><span class="co"># spatial subset</span></a>
<a class="sourceLine" id="cb30-12" title="12">chkCovars &lt;-<span class="st"> </span>chkCovars <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb30-13" title="13"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">id =</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(.)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb30-14" title="14"><span class="st">  </span><span class="kw">filter</span>(id <span class="op">%in%</span><span class="st"> </span><span class="kw">unlist</span>(<span class="kw">st_contains</span>(wg, chkCovars)))</a></code></pre></div>
</div>
</div>
<div id="main-text-figure-3" class="section level2">
<h2><span class="header-section-number">4.3</span> Main Text Figure 3</h2>
<div id="prepare-histogram-of-distance-to-roads" class="section level3">
<h3><span class="header-section-number">4.3.1</span> Prepare histogram of distance to roads</h3>
<p>Figure code is hidden in versions rendered as HTML or PDF.</p>
</div>
<div id="table-distance-to-roads" class="section level3">
<h3><span class="header-section-number">4.3.2</span> Table: Distance to roads</h3>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" title="1"><span class="co"># write the mean and ci95 to file</span></a>
<a class="sourceLine" id="cb31-2" title="2">chkCovars <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-3" title="3"><span class="st">  </span><span class="kw">st_drop_geometry</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-4" title="4"><span class="st">  </span><span class="kw">select</span>(dist_road, nnb) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-5" title="5"><span class="st">  </span>tidyr<span class="op">::</span><span class="kw">pivot_longer</span>(</a>
<a class="sourceLine" id="cb31-6" title="6">    <span class="dt">cols =</span> <span class="kw">c</span>(<span class="st">&quot;dist_road&quot;</span>, <span class="st">&quot;nnb&quot;</span>),</a>
<a class="sourceLine" id="cb31-7" title="7">    <span class="dt">names_to =</span> <span class="st">&quot;variable&quot;</span></a>
<a class="sourceLine" id="cb31-8" title="8">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-9" title="9"><span class="st">  </span><span class="kw">group_by</span>(variable) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-10" title="10"><span class="st">  </span><span class="kw">summarise_at</span>(</a>
<a class="sourceLine" id="cb31-11" title="11">    <span class="kw">vars</span>(value),</a>
<a class="sourceLine" id="cb31-12" title="12">    <span class="kw">list</span>(<span class="op">~</span><span class="st"> </span><span class="kw">mean</span>(.), <span class="op">~</span><span class="st"> </span><span class="kw">sd</span>(.), <span class="op">~</span><span class="st"> </span><span class="kw">min</span>(.), <span class="op">~</span><span class="st"> </span><span class="kw">max</span>(.))</a>
<a class="sourceLine" id="cb31-13" title="13">  ) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-14" title="14"><span class="st">  </span><span class="kw">write_csv</span>(<span class="st">&quot;data/results/distance_roads_sites.csv&quot;</span>)</a></code></pre></div>
<table>
<caption>(#tab:show_dist_roads_nnb)Distance to roads: Summary statistics</caption>
<thead>
<tr class="header">
<th align="left">variable</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">min</th>
<th align="right">max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">dist_road</td>
<td align="right">390</td>
<td align="right">859</td>
<td align="right">0.279</td>
<td align="right">7637</td>
</tr>
<tr class="even">
<td align="left">nnb</td>
<td align="right">297</td>
<td align="right">553</td>
<td align="right">0.137</td>
<td align="right">12850</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="distance-to-nearest-neighbouring-site" class="section level2">
<h2><span class="header-section-number">4.4</span> Distance to nearest neighbouring site</h2>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" title="1"><span class="co"># get unique locations</span></a>
<a class="sourceLine" id="cb32-2" title="2">locs &lt;-<span class="st"> </span>py<span class="op">$</span>unique_locs</a></code></pre></div>
<p>Figure code is hidden in versions rendered as HTML and PDF.</p>
</div>
<div id="main-text-figure-3-1" class="section level2">
<h2><span class="header-section-number">4.5</span> Main Text Figure 3</h2>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" title="1">roads &lt;-<span class="st"> </span><span class="kw">st_read</span>(<span class="st">&quot;data/spatial/roads_studysite_2019/roads_studysite_2019.shp&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb33-2" title="2"><span class="st">  </span><span class="kw">st_transform</span>(<span class="dv">32643</span>)</a>
<a class="sourceLine" id="cb33-3" title="3">points &lt;-<span class="st"> </span>chkCovars <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb33-4" title="4"><span class="st">  </span><span class="kw">bind_cols</span>(<span class="kw">as_tibble</span>(<span class="kw">st_coordinates</span>(.))) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb33-5" title="5"><span class="st">  </span><span class="kw">st_drop_geometry</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb33-6" title="6"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">X =</span> <span class="kw">round_any</span>(X, <span class="dv">2500</span>), <span class="dt">Y =</span> <span class="kw">round_any</span>(Y, <span class="dv">2500</span>))</a>
<a class="sourceLine" id="cb33-7" title="7"></a>
<a class="sourceLine" id="cb33-8" title="8">points &lt;-<span class="st"> </span><span class="kw">count</span>(points, X, Y)</a>
<a class="sourceLine" id="cb33-9" title="9"></a>
<a class="sourceLine" id="cb33-10" title="10"><span class="co"># add land</span></a>
<a class="sourceLine" id="cb33-11" title="11"><span class="kw">library</span>(rnaturalearth)</a>
<a class="sourceLine" id="cb33-12" title="12">land &lt;-<span class="st"> </span><span class="kw">ne_countries</span>(</a>
<a class="sourceLine" id="cb33-13" title="13">  <span class="dt">scale =</span> <span class="dv">50</span>, <span class="dt">type =</span> <span class="st">&quot;countries&quot;</span>, <span class="dt">continent =</span> <span class="st">&quot;asia&quot;</span>,</a>
<a class="sourceLine" id="cb33-14" title="14">  <span class="dt">country =</span> <span class="st">&quot;india&quot;</span>,</a>
<a class="sourceLine" id="cb33-15" title="15">  <span class="dt">returnclass =</span> <span class="kw">c</span>(<span class="st">&quot;sf&quot;</span>)</a>
<a class="sourceLine" id="cb33-16" title="16">) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb33-17" title="17"><span class="st">  </span><span class="kw">st_transform</span>(<span class="dv">32643</span>)</a>
<a class="sourceLine" id="cb33-18" title="18"></a>
<a class="sourceLine" id="cb33-19" title="19">bbox &lt;-<span class="st"> </span><span class="kw">st_bbox</span>(wg)</a></code></pre></div>
<p>Figure code is hidden in versions rendered as HTML and PDF.</p>
<div class="figure">
<img src="figs/fig_03_distance_to_roads.png" alt="Distribution of checklist locations across the Nilgiri, Anamalai and Palani Hills. Inset histogram shows the distribution of checklists’ distance to the nearest road, with the X-axis on a log-scale." />
<p class="caption">Distribution of checklist locations across the Nilgiri, Anamalai and Palani Hills. Inset histogram shows the distribution of checklists’ distance to the nearest road, with the X-axis on a log-scale.</p>
</div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="prepare-landscape-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="prepare-observer-expertise.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/pratikunterwegs/eBirdOccupancy/edit/master/03_distance-to-roads.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
